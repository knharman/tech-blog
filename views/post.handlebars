<h5>{{ title }}</h5>
<p>{{ body }}</p>
<span>Posted by {{ username }} on {{ date }}</span>
{{#if shouldBeAbleToDelete}}
<button id="edit-button">✏️</button>
<button class="delete-button" data-post-id="{{ id }}">❌</button>

<form id="edit-form" hidden>
    <h3>Edit Post</h3>
    <label for="title">Title: </label>
    <input type="text" name="title" id="title" value="{{ title }}" required>

    <label for="body">Body: </label>
    <textarea name="body" rows="10" cols="30" id="body" required>{{ body }}</textarea>

    <input type="hidden" name="postId" id="id" value="{{ id }}" />

    <button type="submit">Edit Post</button>
</form>

{{/if}}
<form method="post" action="/api/comments">
    <label for="comment">Comment: </label>
    <textarea name="comment" rows="10" cols="30" required></textarea>
    <input type="hidden" name="postId" value="{{ id }}" />
    <input type="submit" value="Add Comment">
</form>
{{#each comments}}
<div>
    {{ text }}
    <h5>Posted by: {{ user.username }} on {{ createdAt }}</h5>
    {{#if ../shouldBeAbleToDelete}}
    <button id="edit-comment-button" data-comment-id="{{ id }}">✏️</button>
    <button class="delete-comment-button" data-comment-id="{{ id }}">❌</button>

    <form class="edit-comment-form" id="edit-comment-form-{{ id }}" data-comment-id="{{ id }}" hidden>
        <h3>Edit Comment</h3>
        <label for="title">Text: </label>
        <input type="text" name="text" id="text-{{ id }}" value="{{ text }}" required>

        <button type="submit">Edit Comment</button>
    </form>
    {{/if}}

</div>
{{/each}}

<script src="/js/delete-post.js"></script>